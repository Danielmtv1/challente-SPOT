import unittest
from fastapi.testclient import TestClient
from main import app

client = TestClient(app)


class TestApp(unittest.TestCase):

    def test_read_root(self):
        response = client.get("/")
        self.assertEqual(response.status_code, 200)
        self.assertEqual(response.json(), {'test-container': ''})

    def test_recibir_mensaje(self):
        message = {
                "date": "2023-05-21 10:05:30",
                "image_base64": "iVBORw0KGgoAAAANSUhEUgAAAXYAAACHCAMAAAA1OYJfAAAAZlBMVEX///8AlogFmIoAkIEAkoMAjn8AkoQAmozR5uOq1M/v+fjl8/HC4NyGxb9is6nO6OWOycIfnpFPraPs+Pdvu7LK5eLb7uyXzce129d/wbn4/fzX7Oql0849ppp5vbVBqJ1YsqhqtaysrqKaAAAJxUlEQVR4nO2c65arqhJGVdB0EnMxbdR4SdLv/5JHKVCBQh3ZnbRjnfr2j73SouIEq4oC9DwSiUQikUgkEolEIpFIJBKJRCKRSCQSiUQikUgkEolEIpFIJBKJRCKRSCQSiUQikUgkEon0jyqrb5eEM8Y3j3td/XVt/j9U3Tac+74ftGr/x/kmPf11nf55FQ8OxAe16JvtX9frHSpb/XUdhE4NN5hL8jyJZ0/e3w4u3bIPVF6pEHe8Oo9XxTk9Xppk077L/ia5/Jzjb6TYYeYyv6YyZWZHH/7FnruZ079C7lI432hL6pfF+XO+GIu6WyaOo7swZJxH/qCIszDJ92ZBX1T8/a95lXCzkz9GzeBvZlr+i/kusV/A/p34nEXhbLmaT95yF6E15PxovJHiZeBvx17Y9sWPxw0xV4c3Y98LnPPYE3nPB37Ygb0lzA5awc9g35oGJgh4Xun9n+VTV5jA/htGZh8twl6oWoR45Kuwt5YoijpzNOoczdjDfgT7ltl+1C9PhtmZ5C6xJ4jm7NMSLcSuOrsfPdHjEvvjmKb3++2eHpsgVC9AlIy4fwL7FYlgeO6Z2ANeuK8B2PleBGaGfqGKy7Bfh1eOWV6yE2Bno35QZnkiz+LP4c8fwL4zY3XhQksbe0fVpR77e7QM+2UwGvyGFZDYDau3laeFQ7f6APYHEq23nd3GHviuwGwd2DNRh0RGM1jIi2Pv4iQwkf1f3o+9tuh2nd3DsAf87LrKGrDfu0K89gR2jnkiB3ZvL7t7b33ejn0XYJ299lDsge/iuhj7AmOPlFiCvWSyl59F4Q1SxIXdyyPdMr0d+yFC4AbdERR76rjMAuzlaZs+22H5ph2T3wuc/W6bXtoSSfNM6+uoCGBnu++RzHNzLslBkI8NF5zYd9Bkjfr9buw7hG0A98OwBy6ws9i/mm5crnxeOyT/sVM11bMtIwvwtkjT8wHsfjgSNxsu6SOYo7A2F+RpXdi9Boy7uua7sedYlwbXgmM/4NeZxR6Hvi5ujQMOzBhEDqHF3h5eBgb2uKsBxOsnUZnQblc39p9I88Pvxp5glh1uh2IH+2NrFntmYm+56E14tAa6UQ9uAXYRPUqiouNHd6sSbuwpvGXKcr0Ze2aPT/swEcUecHzMOW/bO+wRZ52UqdFSfDc1amGtBYEyQxPPY8/EReUZOdzB8h8T2KNPYsdsjBqM4th9dByyAHsQ+pdbHV+v1+LQDwwHvwiGwWfJ+Zpl2Sk+XFg4WGcbe2RAhehR2i3wkKw26+DG/tCb8s3Yn8gAVbnzU//So4d1zWPX5mULyW4wM0fRQaNR/mG3HR5bRjKeM+dQwumqGYVTtavqxg7N+qFIptwg2Rj15KeNSmbp3NEZD4kdm6lBBUHeyIxA73dlfWbjdjHAj47qJ2Rn2JdRyokdUpe8D4/fi/0bST3aCYBUw87RnKrEXpwsOW69BTDKaWqm2dYs9sbgGegYpZzYITvA+lZ/L/YrMv636mTk3fEeKRO/4DLH4q57iydj6skqyKe4Cs9hP4XG6eBUmeFUXdiP0sn3xd+LvbCzXbbpNuw/txxVJ/c0h+vedzGoVMYdsNuxh9Qc9lS7mKeMmFlXHPu3zFyOzn8v9q2F3Y4PM6PMb2EXiUKuYmvg+qptL8WdtPERoDQ6EYa9uvkqTBoa/cPYkUlIM9hBU3svYIdR5Y/6CYUjRyg0gx0chcYYnKQxuQfYo7rq9PUV1+efYXopHLmhD2Nnlge0BlSTvZ2Fppjr3iLYGGKPGzw9r1E7M4O9sS1KiTlVOakX9Y5ntHhDc2qfte2+nT46miHmFPao2lkalyr3RX24p7e6yEzs3/LpWZIjEeo09gr8p37eXc+yCDlXDrS31d6Lz0Yy3O7stvWfiGSm4/brz0ZkIXm3JsiHvEmP3StU0obzoz0PMYn9JtyE0WUqcT2moXNh5/ysv2Qfjdv9o1XC6uzTcfvEKDVOQm497wh7y10dj1hgdPlp7OAoze4Asbhm8BHsXYL5YVm2j45S+/UWGxVgVHZgPzlKdWO/2xlIA7uXNYNf5tF9/OZMYhfO2R5q1RAcjcMb3ba3r96meZ5j5IE+m5PpH1p5Iruzv5iT+VFEIQmpJjwi/f0qmj472XbDkROZxP4UB4PnRRdkt7QJAi2SyfbfO9c44Q8ykMEwd2db9hczkDlQj8LkUBfXuI3cIK6OTLN2SgfwYR9dTmLfqXSmIXWZcVFnKszQH+TbR9iRBOVL+XZJhj1Hb/yJYdhbw9evF/JZz30Ke267jLHGkNeCHZ1d6rEjjYJOyHtz2IGMPiF4dWBvVSjw/fLJKezNJHXtFqvBjlsZid227C/OpV6QCG8Ce79guj9lYsWvzOZgK+vlCGxwmavBjq4ckNgRy/7iygHINuoR3iR2bw/uPZTIJHbMA4qg3U/OiGCmbuSaV4MdXScjsSOd/cV1MpAf0Q9OY5dzW4oQjGHR9aSQBECXq0GGbBR7rQf7DplgArpYZ39xVdgL2OWyF/mGQIbFzhipoJ3h+6NgGcZwcD3Y8TWQHXYsjHlxDaQVUnjz2J98/ORIsgsEs6aO+RFok8EfrQi7d8FtCRbG4EOlTtPYAZq+bmUOe6P5gyc+J+2VYvCLJ6NbgWfuo681YUfWt3fYkQHqy+vbwe1p43QTuzlCr/R8OYQ2Vt5F/t2VpocprGEfwZqwI7s5WuyIZV+0mwOVWvsRm38bsDeX7ThOOSV6P93LK/RViB/C0EMGAFnuKB9NXxGwKuzIJFOKdPYFe5ecr0MjNy4mt+JUZdXpFG+FUe6xl1HE+OUcX7uj8fkhg/FhlHBRV7jndX44bphYfLRHsruaNnCWbNF1Ybd26vn3vdXZl+zUc2LP+kyYyPx1yTDISinswqZwtfAAyaf0ayh51P0nV5mewXq5Nysf+LhdVobdi3U7499So7Mv25fqNv791kVdPfYaSaxE/tgZ5GbmuMv0mnMllqC91Wh3bdiNXdh+Y1qdZbuwpxZa+1jGqif2YzcLe+hXOxhFwkwt/prCCBkbOdBaHXavTMPxZncd+pJvDoiJg4nZpTIPwmFbAW9tOQvDjRoIZIdNOErWch4mlgO/JqGacu72HNSld+zuGk7urcmhYnCfb/gxjz0SF0ZnjX9b/+kLGztYeTe9LanKYYtM8jimt7y46o20FxtoOuuRXNIt2oCn87HbhdNtwhH9AG46+QWPEsrIQBR+zPUhVW7xis7/pjV8T2Y133n5pKpbYnw96U5fT/qIsu3tkvj0rTASiUQikUgkEolEIpFIJBKJRCKRSCQSiUQikUgkEolEIpFIJBKJRCKRSCQSiUQikUgkEon0r+h/ME+DMh4xOlUAAAAASUVORK5CYII=",
                "camera_id": 123343
            }
        response = client.post("/uploadimage", json=message)
        self.assertEqual(response.status_code, 200)
        self.assertIn("url_image_azure", response.json())

    def test_recibir_mensaje_lote(self):
        messages = [
            {

                "date": "2023-05-21 10:05:30",
                "image_base64": "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",
                "camera_id": 12343
                },
            {
                "date": "2023-05-21 10:05:30",
                "image_base64": "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",
                "camera_id": 12343
            },
            {
                "date": "2023-05-21 10:05:30",
                "image_base64": "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",
                "camera_id": 12343
            }
        ]

        response = client.post("/upload_images", json=messages)
        self.assertEqual(response.status_code, 200)
        self.assertEqual(response.json()["message"], "Images uploaded successfully in batch")

    def test_get_images(self):
        response = client.get("/images")
        self.assertEqual(response.status_code, 200)
        self.assertIn("images", response.json())
        self.assertIsInstance(response.json()["images"], list)
